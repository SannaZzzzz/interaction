"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/chat";
exports.ids = ["pages/api/chat"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cchat.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cchat.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\chat.ts */ \"(api)/./src/pages/api/chat.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/chat\",\n        pathname: \"/api/chat\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNoYXQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlNUNwYWdlcyU1Q2FwaSU1Q2NoYXQudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDdUQ7QUFDdkQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG1EQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxtREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1jaGFyYWN0ZXItaW50ZXJhY3Rpb24vP2NlMjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyY1xcXFxwYWdlc1xcXFxhcGlcXFxcY2hhdC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NoYXRcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGF0XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cchat.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/chat.ts":
/*!*******************************!*\
  !*** ./src/pages/api/chat.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            response: \"\",\n            error: \"仅支持POST方法\"\n        });\n    }\n    try {\n        const { message, character, apiKey, modelType = \"doubo\", apiUrl } = req.body;\n        if (!message || !apiKey) {\n            return res.status(400).json({\n                response: \"\",\n                error: \"消息和API密钥是必需的\"\n            });\n        }\n        // 根据不同模型类型调用相应的API\n        let responseText = \"\";\n        switch(modelType){\n            case \"doubo\":\n                // 调用豆包API\n                responseText = await callDouboModel(message, character, apiKey, apiUrl);\n                break;\n            case \"deepseek\":\n                // 调用DeepSeek API\n                responseText = await callDeepSeekModel(message, character, apiKey, apiUrl);\n                break;\n            default:\n                throw new Error(\"不支持的模型类型\");\n        }\n        // 返回响应\n        res.status(200).json({\n            response: responseText\n        });\n    } catch (error) {\n        console.error(\"API错误:\", error);\n        res.status(500).json({\n            response: \"\",\n            error: `调用大模型API时出错: ${error.message || \"未知错误\"}`\n        });\n    }\n}\n// 豆包API调用函数\nasync function callDouboModel(message, character, apiKey, apiUrl) {\n    try {\n        const url = apiUrl || \"https://api.doubao.com/v1/chat/completions\";\n        // 构建请求参数\n        const payload = {\n            model: \"doubao-lite\",\n            messages: [\n                {\n                    role: \"system\",\n                    content: character\n                },\n                {\n                    role: \"user\",\n                    content: message\n                }\n            ],\n            temperature: 0.7\n        };\n        // 发送请求到豆包API\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(url, payload, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${apiKey}`\n            }\n        });\n        // 解析并返回响应\n        if (response.data && response.data.choices && response.data.choices.length > 0) {\n            return response.data.choices[0].message.content;\n        }\n        return \"抱歉，无法获取回复\";\n    } catch (error) {\n        console.error(\"豆包API调用错误:\", error);\n        throw new Error(\"豆包API调用失败\");\n    }\n}\n// DeepSeek API调用函数\nasync function callDeepSeekModel(message, character, apiKey, apiUrl) {\n    try {\n        const url = apiUrl || \"https://api.deepseek.com/v1/chat/completions\";\n        // 构建请求参数\n        const payload = {\n            model: \"deepseek-chat\",\n            messages: [\n                {\n                    role: \"system\",\n                    content: character\n                },\n                {\n                    role: \"user\",\n                    content: message\n                }\n            ],\n            temperature: 0.7\n        };\n        // 发送请求到DeepSeek API\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(url, payload, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${apiKey}`\n            }\n        });\n        // 解析并返回响应\n        if (response.data && response.data.choices && response.data.choices.length > 0) {\n            return response.data.choices[0].message.content;\n        }\n        return \"抱歉，无法获取回复\";\n    } catch (error) {\n        console.error(\"DeepSeek API调用错误:\", error);\n        throw new Error(\"DeepSeek API调用失败\");\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFBYTtRQUNmO1FBRUEsb0JBQW9CO1FBQ3BCLE1BQU1uQixXQUFXLE1BQU1QLGtEQUFVLENBQUNvQixLQUFLQyxTQUFTO1lBQzlDTyxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsaUJBQWlCLENBQUMsT0FBTyxFQUFFakIsT0FBTyxDQUFDO1lBQ3JDO1FBQ0Y7UUFFQSxVQUFVO1FBQ1YsSUFBSUosU0FBU3NCLElBQUksSUFBSXRCLFNBQVNzQixJQUFJLENBQUNDLE9BQU8sSUFBSXZCLFNBQVNzQixJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHLEdBQUc7WUFDOUUsT0FBT3hCLFNBQVNzQixJQUFJLENBQUNDLE9BQU8sQ0FBQyxFQUFFLENBQUNyQixPQUFPLENBQUNnQixPQUFPO1FBQ2pEO1FBRUEsT0FBTztJQUNULEVBQUUsT0FBT2pCLE9BQU87UUFDZFcsUUFBUVgsS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkMsTUFBTSxJQUFJVSxNQUFNO0lBQ2xCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1jaGFyYWN0ZXItaW50ZXJhY3Rpb24vLi9zcmMvcGFnZXMvYXBpL2NoYXQudHM/NzI5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbnR5cGUgUmVzcG9uc2VEYXRhID0ge1xuICByZXNwb25zZTogc3RyaW5nO1xuICBlcnJvcj86IHN0cmluZztcbn07XG5cbi8vIOaUr+aMgeeahOaooeWei+exu+Wei1xudHlwZSBNb2RlbFR5cGUgPSAnZG91Ym8nIHwgJ2RlZXBzZWVrJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2U8UmVzcG9uc2VEYXRhPlxuKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyByZXNwb25zZTogJycsIGVycm9yOiAn5LuF5pSv5oyBUE9TVOaWueazlScgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHsgbWVzc2FnZSwgY2hhcmFjdGVyLCBhcGlLZXksIG1vZGVsVHlwZSA9ICdkb3VibycsIGFwaVVybCB9ID0gcmVxLmJvZHk7XG5cbiAgICBpZiAoIW1lc3NhZ2UgfHwgIWFwaUtleSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgcmVzcG9uc2U6ICcnLCBlcnJvcjogJ+a2iOaBr+WSjEFQSeWvhumSpeaYr+W/hemcgOeahCcgfSk7XG4gICAgfVxuXG4gICAgLy8g5qC55o2u5LiN5ZCM5qih5Z6L57G75Z6L6LCD55So55u45bqU55qEQVBJXG4gICAgbGV0IHJlc3BvbnNlVGV4dCA9ICcnO1xuICAgIFxuICAgIHN3aXRjaCAobW9kZWxUeXBlIGFzIE1vZGVsVHlwZSkge1xuICAgICAgY2FzZSAnZG91Ym8nOlxuICAgICAgICAvLyDosIPnlKjosYbljIVBUElcbiAgICAgICAgcmVzcG9uc2VUZXh0ID0gYXdhaXQgY2FsbERvdWJvTW9kZWwobWVzc2FnZSwgY2hhcmFjdGVyLCBhcGlLZXksIGFwaVVybCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgXG4gICAgICBjYXNlICdkZWVwc2Vlayc6XG4gICAgICAgIC8vIOiwg+eUqERlZXBTZWVrIEFQSVxuICAgICAgICByZXNwb25zZVRleHQgPSBhd2FpdCBjYWxsRGVlcFNlZWtNb2RlbChtZXNzYWdlLCBjaGFyYWN0ZXIsIGFwaUtleSwgYXBpVXJsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfkuI3mlK/mjIHnmoTmqKHlnovnsbvlnosnKTtcbiAgICB9XG5cbiAgICAvLyDov5Tlm57lk43lupRcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHJlc3BvbnNlOiByZXNwb25zZVRleHQgfSk7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEnplJnor686JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICByZXNwb25zZTogJycsIFxuICAgICAgZXJyb3I6IGDosIPnlKjlpKfmqKHlnotBUEnml7blh7rplJk6ICR7ZXJyb3IubWVzc2FnZSB8fCAn5pyq55+l6ZSZ6K+vJ31gIFxuICAgIH0pO1xuICB9XG59XG5cbi8vIOixhuWMhUFQSeiwg+eUqOWHveaVsFxuYXN5bmMgZnVuY3Rpb24gY2FsbERvdWJvTW9kZWwobWVzc2FnZTogc3RyaW5nLCBjaGFyYWN0ZXI6IHN0cmluZywgYXBpS2V5OiBzdHJpbmcsIGFwaVVybD86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gYXBpVXJsIHx8ICdodHRwczovL2FwaS5kb3ViYW8uY29tL3YxL2NoYXQvY29tcGxldGlvbnMnO1xuICAgIFxuICAgIC8vIOaehOW7uuivt+axguWPguaVsFxuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICBtb2RlbDogXCJkb3ViYW8tbGl0ZVwiLCAgLy8g5Y+v5qC55o2u5a6e6ZmF5oOF5Ya16YCJ5oup5qih5Z6LXG4gICAgICBtZXNzYWdlczogW1xuICAgICAgICB7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiBjaGFyYWN0ZXIgfSxcbiAgICAgICAgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IG1lc3NhZ2UgfVxuICAgICAgXSxcbiAgICAgIHRlbXBlcmF0dXJlOiAwLjdcbiAgICB9O1xuICAgIFxuICAgIC8vIOWPkemAgeivt+axguWIsOixhuWMhUFQSVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCh1cmwsIHBheWxvYWQsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXBpS2V5fWBcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyDop6PmnpDlubbov5Tlm57lk43lupRcbiAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmNob2ljZXMgJiYgcmVzcG9uc2UuZGF0YS5jaG9pY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gJ+aKseatie+8jOaXoOazleiOt+WPluWbnuWkjSc7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign6LGG5YyFQVBJ6LCD55So6ZSZ6K+vOicsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ+ixhuWMhUFQSeiwg+eUqOWksei0pScpO1xuICB9XG59XG5cbi8vIERlZXBTZWVrIEFQSeiwg+eUqOWHveaVsFxuYXN5bmMgZnVuY3Rpb24gY2FsbERlZXBTZWVrTW9kZWwobWVzc2FnZTogc3RyaW5nLCBjaGFyYWN0ZXI6IHN0cmluZywgYXBpS2V5OiBzdHJpbmcsIGFwaVVybD86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gYXBpVXJsIHx8ICdodHRwczovL2FwaS5kZWVwc2Vlay5jb20vdjEvY2hhdC9jb21wbGV0aW9ucyc7XG4gICAgXG4gICAgLy8g5p6E5bu66K+35rGC5Y+C5pWwXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgIG1vZGVsOiBcImRlZXBzZWVrLWNoYXRcIiwgIC8vIOWPr+agueaNruWunumZheaDheWGtemAieaLqeaooeWei1xuICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgeyByb2xlOiBcInN5c3RlbVwiLCBjb250ZW50OiBjaGFyYWN0ZXIgfSxcbiAgICAgICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogbWVzc2FnZSB9XG4gICAgICBdLFxuICAgICAgdGVtcGVyYXR1cmU6IDAuN1xuICAgIH07XG4gICAgXG4gICAgLy8g5Y+R6YCB6K+35rGC5YiwRGVlcFNlZWsgQVBJXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KHVybCwgcGF5bG9hZCwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthcGlLZXl9YFxuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIOino+aekOW5tui/lOWbnuWTjeW6lFxuICAgIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuY2hvaWNlcyAmJiByZXNwb25zZS5kYXRhLmNob2ljZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQ7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAn5oqx5q2J77yM5peg5rOV6I635Y+W5Zue5aSNJztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEZWVwU2VlayBBUEnosIPnlKjplJnor686JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRGVlcFNlZWsgQVBJ6LCD55So5aSx6LSlJyk7XG4gIH1cbn0iXSwibmFtZXMiOlsiYXhpb3MiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsInJlc3BvbnNlIiwiZXJyb3IiLCJtZXNzYWdlIiwiY2hhcmFjdGVyIiwiYXBpS2V5IiwibW9kZWxUeXBlIiwiYXBpVXJsIiwiYm9keSIsInJlc3BvbnNlVGV4dCIsImNhbGxEb3Vib01vZGVsIiwiY2FsbERlZXBTZWVrTW9kZWwiLCJFcnJvciIsImNvbnNvbGUiLCJ1cmwiLCJwYXlsb2FkIiwibW9kZWwiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwidGVtcGVyYXR1cmUiLCJwb3N0IiwiaGVhZGVycyIsImRhdGEiLCJjaG9pY2VzIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/chat.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cchat.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();