(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(4905)}])},4905:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var n=s(5893),r=s(7294),a=s(9008),o=s.n(a),i=s(1354),c=s.n(i);let l={APPID:"8e1a9a62",APISecret:"ODI1YTMwM2QxZWMwMDVkNDQxZGM0MTQz",APIKey:"f8b4362ab7d027275ed628b5a4849e4a"};class d{getWebsocketUrl(){let e="iat-api.xfyun.cn",t=new Date().toUTCString(),s="host: ".concat(e,"\ndate: ").concat(t,"\nGET /v2/").concat(this.config.serviceType," HTTP/1.1"),n=c().enc.Base64.stringify(c().HmacSHA256(s,this.config.APISecret)),r='api_key="'.concat(this.config.APIKey,'", algorithm="').concat("hmac-sha256",'", headers="').concat("host date request-line",'", signature="').concat(n,'"'),a=c().enc.Base64.stringify(c().enc.Utf8.parse(r));return"wss://".concat(e,"/v2/").concat(this.config.serviceType,"?authorization=").concat(a,"&date=").concat(encodeURIComponent(t),"&host=").concat(e)}async recognize(e){return new Promise((t,s)=>{try{let n=this.getWebsocketUrl();this.ws=new WebSocket(n),this.resultText="",this.isError=!1;let r=new FileReader;r.readAsArrayBuffer(e),r.onload=()=>{let e=r.result;this.ws.onopen=()=>{console.log("讯飞语音识别 WebSocket 已连接");let t={common:{app_id:this.config.APPID},business:{language:"zh_cn",domain:"iat",accent:"mandarin",vad_eos:5e3,dwa:"wpgs"},data:{status:0,format:"audio/L16;rate=16000",encoding:"raw"}};this.ws.send(JSON.stringify(t));let s=Math.ceil(e.byteLength/320);for(let t=0;t<s;t++){let n=320*t,r=Math.min(n+320,e.byteLength),a=e.slice(n,r),o=new ArrayBuffer(a.byteLength);if(new Uint8Array(o).set(new Uint8Array(a)),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(o),t===s-1){let e={data:{status:2,format:"audio/L16;rate=16000",encoding:"raw"}};this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}}},this.ws.onmessage=e=>{var n,r;let a=JSON.parse(e.data);if(0!==a.code){this.isError=!0;let e="识别错误: ".concat(a.code,", ").concat(a.message);console.error(e),this.onErrorCallback&&this.onErrorCallback(e),null===(n=this.ws)||void 0===n||n.close(),s(Error(e));return}if(a.data&&a.data.result){let e=a.data.result;if(e.ws){let t="";for(let s of e.ws)for(let e of s.cw)t+=e.w;t&&(this.resultText+=t,this.onResultCallback&&this.onResultCallback(this.resultText))}2!==a.data.status||(null===(r=this.ws)||void 0===r||r.close(),this.isError||t(this.resultText))}},this.ws.onerror=e=>{console.error("WebSocket错误:",e),this.isError=!0;let t="讯飞语音识别服务连接错误";this.onErrorCallback&&this.onErrorCallback(t),s(Error(t))},this.ws.onclose=()=>{console.log("WebSocket已关闭"),!this.isError&&this.resultText?t(this.resultText):this.isError||s(Error("未能获取识别结果"))}},r.onerror=e=>{console.error("读取音频文件错误:",e),s(Error("读取音频文件错误"))}}catch(e){console.error("讯飞语音识别初始化错误:",e),s(e)}})}close(){this.ws&&this.ws.close()}onResult(e){this.onResultCallback=e}onError(e){this.onErrorCallback=e}constructor(e){this.ws=null,this.resultText="",this.isError=!1,this.onResultCallback=null,this.onErrorCallback=null,this.config={...e,serviceType:e.serviceType||"iat"}}}let u=new d(l);var h=e=>{let{onResult:t,isRecording:s,setIsRecording:a}=e,[o,i]=(0,r.useState)(""),[c,l]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),f=(0,r.useRef)(null),x=(0,r.useRef)([]),w=(0,r.useRef)(null),p=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});return h(!0),i(""),e}catch(e){return console.error("麦克风权限错误:",e),h(!1),i("请允许访问麦克风以使用语音输入功能"),null}},b=()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){let e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),t=/iPad|iPhone|iPod/.test(navigator.userAgent),s=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);return e?t&&s?i("iOS Safari 浏览器对音频录制支持有限。请尝试使用Chrome浏览器。"):i("移动设备请使用Chrome浏览器以支持音频录制"):i("您的浏览器不支持音频录制功能。请使用Chrome或Edge浏览器。"),!1}return!0};(0,r.useEffect)(()=>(console.log("初始化音频录制组件..."),b()&&p().then(e=>{e&&e.getTracks().forEach(e=>e.stop())}),"https:"!==window.location.protocol&&"localhost"!==window.location.hostname&&i("音频录制功能需要HTTPS连接才能工作。请使用HTTPS访问本站。"),()=>{w.current&&w.current.getTracks().forEach(e=>e.stop())}),[]);let y=async e=>{try{g(!0),l("正在处理音频...");let s=await v(e);console.log("发送音频进行识别，大小:",s.size,"bytes"),u.onResult(e=>{l("正在识别: ".concat(e))}),u.onError(e=>{i("语音识别错误: ".concat(e))});let n=await u.recognize(s);l("识别完成"),g(!1),t(n)}catch(e){console.error("语音识别处理错误:",e),i("语音识别处理失败: ".concat(e instanceof Error?e.message:"未知错误")),g(!1)}},v=async e=>new Promise((t,s)=>{try{let n=new FileReader;n.onload=async()=>{let e=n.result,s=new(window.AudioContext||window.webkitAudioContext),r=await s.decodeAudioData(e),a=s.createBuffer(1,r.length,16e3);if(r.numberOfChannels>1){let e=r.getChannelData(0),t=r.getChannelData(1),s=a.getChannelData(0);for(let n=0;n<r.length;n++)s[n]=(e[n]+t[n])/2}else a.copyToChannel(r.getChannelData(0),0);let o=j(a,16e3),i=new Blob([o],{type:"audio/wav"});t(i)},n.onerror=e=>{s(e)},n.readAsArrayBuffer(e)}catch(e){s(e)}}),j=(e,t)=>{let s=e.length,n=1*s*2,r=new ArrayBuffer(44+n),a=new DataView(r);N(a,0,"RIFF"),a.setUint32(4,36+n,!0),N(a,8,"WAVE"),N(a,12,"fmt "),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,1,!0),a.setUint32(24,t,!0),a.setUint32(28,1*t*2,!0),a.setUint16(32,2,!0),a.setUint16(34,16,!0),N(a,36,"data"),a.setUint32(40,n,!0);let o=e.getChannelData(0),i=44;for(let e=0;e<s;e++){let t=Math.max(-1,Math.min(1,o[e])),s=t<0?32768*t:32767*t;a.setInt16(i,s,!0),i+=2}return r},N=(e,t,s)=>{for(let n=0;n<s.length;n++)e.setUint8(t+n,s.charCodeAt(n))};(0,r.useEffect)(()=>{let e=async()=>{i(""),l("");try{let e=await p();if(!e)return;w.current=e,x.current=[];let t=new MediaRecorder(e);f.current=t,t.ondataavailable=e=>{e.data.size>0&&x.current.push(e.data)},t.onstop=()=>{console.log("录音已停止，处理数据...");let e=new Blob(x.current,{type:"audio/wav"});if(e.size<1e3){i("录音时间太短，请重试");return}y(e)},t.start(),l("正在录音..."),console.log("录音已开始")}catch(e){console.error("启动录音错误:",e),i("启动录音失败: ".concat(e instanceof Error?e.message:"未知错误")),a(!1)}};return s?e():f.current&&(f.current&&"inactive"!==f.current.state&&(f.current.stop(),l("录音已结束，正在处理...")),w.current&&w.current.getTracks().forEach(e=>e.stop())),()=>{s&&f.current&&"inactive"!==f.current.state&&f.current.stop()}},[s,a,t]);let[S,E]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e=null;return s?(E(0),e=setInterval(()=>{E(e=>e+1)},1e3)):e&&clearInterval(e),()=>{e&&clearInterval(e)}},[s]);let k=async()=>{if(!m&&b()){if(!d){let e=await p();if(!e)return;e.getTracks().forEach(e=>e.stop())}a(!s)}};return(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("button",{onClick:k,className:"px-6 py-3 rounded-full text-white font-medium ".concat(s?"bg-red-600 animate-pulse":m?"bg-yellow-500":"bg-green-600"," ").concat(d?"":"opacity-50"),disabled:!d&&!!o||m,children:s?"正在录音... ".concat("".concat(Math.floor(S/60).toString().padStart(2,"0"),":").concat((S%60).toString().padStart(2,"0"))):m?"处理中...":"点击开始录音"}),(0,n.jsx)("div",{className:"text-xs text-gray-400",children:s?"点击停止录音":"点击按钮开始"})]}),c&&!o&&(0,n.jsx)("div",{className:"text-blue-500 mt-2 text-sm bg-blue-100/10 p-2 rounded",children:(0,n.jsx)("p",{children:c})}),o&&(0,n.jsxs)("div",{className:"text-red-500 mt-2 text-sm bg-red-100/10 p-2 rounded",children:[(0,n.jsx)("p",{children:o}),o.includes("浏览器不支持")&&(0,n.jsx)("p",{className:"mt-1 text-xs",children:"推荐使用最新版本的 Chrome、Edge 或 Safari 浏览器"})]})]})},m=e=>{let{character:t,isAnimating:s,response:a}=e,o=(0,r.useRef)(null),[i,c]=(0,r.useState)(!1),[l,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)({width:0,height:0});(0,r.useEffect)(()=>{let e=window.location.hostname.includes("github.io")?"/interaction":"",s="";switch(t){case"anime":s="".concat(e,"/animations/anime-character.mp4");break;case"custom":s="".concat(e,"/animations/custom-character.mp4");break;default:s="".concat(e,"/animations/default-character.mp4")}return console.log("Video source path:",s),o.current&&(o.current.src=s,o.current.load()),()=>{o.current&&(o.current.pause(),o.current.src="",o.current.load())}},[t]),(0,r.useEffect)(()=>{o.current&&(s?(o.current.currentTime=0,(async()=>{try{o.current&&(o.current.muted=!1,await o.current.play(),console.log("Video playing"))}catch(e){console.error("Video play failed:",e),d(!0)}})()):o.current&&o.current.pause())},[s]);let m=u.height>0?u.width/u.height:9/16;return(0,n.jsxs)("div",{className:"relative h-full flex items-center justify-center",children:[!i&&!l&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-xl text-gray-400",children:"加载角色动画中..."})}),l&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-xl text-red-400",children:"动画加载失败，请刷新页面重试"})}),(0,n.jsx)("div",{style:{height:"100%",width:"".concat(Math.max(120*m,120),"%"),minWidth:"350px",maxWidth:"110%",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:(0,n.jsx)("video",{ref:o,className:"h-full",playsInline:!0,muted:!s,loop:s,onLoadedData:()=>{c(!0),d(!1),console.log("Video loaded successfully"),o.current&&h({width:o.current.videoWidth,height:o.current.videoHeight})},onError:e=>{if(console.error("Video load error:",e),d(!0),o.current&&window.location.hostname.includes("github.io")){let e="/interaction/animations/default-character.mp4";console.log("Trying fallback path:",e),o.current.src=e,o.current.load()}},style:{display:i?"block":"none",objectFit:"contain",width:"auto",height:"110%",maxWidth:"none"}})}),s&&i&&(0,n.jsx)("div",{className:"absolute bottom-4 left-4 right-4 bg-black bg-opacity-70 p-2 rounded",children:(0,n.jsx)("p",{className:"text-sm",children:a})})]})};class g{getWebsocketUrl(){let e="tts-api.xfyun.cn",t=new Date().toUTCString(),s="host: ".concat(e,"\ndate: ").concat(t,"\nGET /v2/tts HTTP/1.1"),n=c().enc.Base64.stringify(c().HmacSHA256(s,this.config.APISecret)),r='api_key="'.concat(this.config.APIKey,'", algorithm="hmac-sha256", headers="host date request-line", signature="').concat(n,'"'),a=c().enc.Base64.stringify(c().enc.Utf8.parse(r));return"wss://".concat(e,"/v2/tts?authorization=").concat(a,"&date=").concat(encodeURI(t),"&host=").concat(e)}base64ToArrayBuffer(e){let t=window.atob(e),s=new Uint8Array(t.length);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);return s.buffer}async startSynthesis(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((n,r)=>{this.audioContext||(this.audioContext=new AudioContext);let a=this.getWebsocketUrl();this.ws=new WebSocket(a);let o=[],i=0;this.ws.onopen=()=>{this.status="play";let s={common:{app_id:this.config.APPID},business:{aue:"raw",auf:"audio/L16;rate=16000",vcn:"x4_lingbosong",speed:t.speed||50,volume:t.volume||50,pitch:t.pitch||50,tte:"UTF8"},data:{status:2,text:c().enc.Base64.stringify(c().enc.Utf8.parse(e))}};this.ws&&this.ws.send(JSON.stringify(s))},this.ws.onmessage=async e=>{var t,a,c,l;let d=JSON.parse(e.data);if(0!==d.code){null===(c=this.ws)||void 0===c||c.close(),r(Error("合成失败: ".concat(d.message)));return}if(null===(t=d.data)||void 0===t?void 0:t.audio){let e=new Int16Array(this.base64ToArrayBuffer(d.data.audio));o.push(e),i+=e.length}if((null===(a=d.data)||void 0===a?void 0:a.status)===2){this.status="end";let e=new Int16Array(i),t=0;for(let s of o)e.set(s,t),t+=s.length;let a=new Float32Array(e.length);for(let t=0;t<e.length;t++)a[t]=e[t]/32768;try{let e=this.audioContext.createBuffer(1,a.length,16e3);e.getChannelData(0).set(a);let t=this.audioContext.createBufferSource();t.buffer=e,t.connect(this.audioContext.destination),s.onStart&&t.addEventListener("playing",s.onStart),s.onEnd?t.onended=()=>{var e;null===(e=s.onEnd)||void 0===e||e.call(s),n()}:t.onended=()=>{n()},null===(l=s.onStart)||void 0===l||l.call(s),t.start()}catch(e){console.error("音频处理错误:",e),r(e)}}},this.ws.onerror=e=>{console.error("WebSocket错误:",e),r(Error("WebSocket错误"))},this.ws.onclose=()=>{this.status="end"}})}close(){this.ws&&this.ws.close()}constructor(e){this.ws=null,this.audioContext=null,this.status="end",this.config=e}}var f=s(7066),x=e=>{let{userInput:t,onResponse:s,character:a,setIsAnimating:o}=e,[i,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),[h]=(0,r.useState)(()=>new g(l)),[m,x]=(0,r.useState)(!1),w=["我理解你的问题是关于桥吊设备的维护。作为一名桥吊专家，我建议定期检查钢丝绳的磨损情况。从我30年的经验来看，钢丝绳磨损超过5%就必须更换，哪怕看起来还能用。记住，1厘米的误差就可能酿成大祸。","作为一名桥吊操作员，你的操作技巧非常关键。正确的操作可以提高效率20%以上，同时减少50%的设备磨损。我当年手绘电路图时就发现这个规律：精细操作不仅提高效率，更能延长设备寿命。你们车间最近的维护手法很专业，有金牌班组的水平！","关于集装箱调度，我建议使用三点定位法。这比德国方案快3倍，我们只需要3小时就能完成他们需要一整天的工作量。这个方法成本只有2千元，不需要购买那种动辄上万的高端设备。你提到的问题是设备横向晃动还是纵向晃动？这关系到解决方案的选择。"];(0,r.useEffect)(()=>{t&&!i&&p()},[t]);let p=async()=>{if(t.trim()&&!i){c(!0),u("");try{let e="https://api.deepseek.com/v1/chat/completions";console.log("发送请求到:",e);let n=await f.Z.post(e,{model:"deepseek-chat",messages:[{role:"system",content:'你是青岛港首席桥吊专家许振超，全国劳动模范和"振超效率"世界纪录创造者。请用以下方式回答：\n\n1. 专业权威：\n- 用具体数据支撑建议，比如"吊具加速度0.3m/s\xb2是安全阈值"\n- 优先推荐低成本解决方案，比如"用8元零件就能解决，不用换3万元的模块"\n\n2. 工匠人格：\n- 自然穿插个人经历，比如"我当年手绘电路图时就发现这个规律"\n- 强调精度价值观，比如"1厘米的误差就可能酿成大祸"\n\n3. 交互原则：\n- 对模糊提问主动澄清，比如"你说的晃动是水平的还是纵向的？"\n- 遇到危险操作要警告，比如"这个操作必须先启动红外线防护装置"\n\n4. 激励体系：\n- 对正确操作给予肯定，比如"这手法很专业，有金牌班组的水平"\n- 用对比制造认知冲击，比如"德国方案要3天，我们的方法3小时就能搞定"\n\n请用口语化中文回答，避免机械术语堆砌，必要时用类比来解释，比如"这个集装箱调度就像是在玩华容道"。不要使用括号，不要描述动作，只需要生成对话内容。'},{role:"user",content:t}],temperature:.7},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("sk-4131fde6b2fd4635b71691fe3bb537b6")},timeout:3e4}),r="";if(n.data&&n.data.choices&&n.data.choices.length>0)r=n.data.choices[0].message.content;else throw Error("无法从API获取有效响应");s(r);try{await h.startSynthesis(r,{vcn:"x4_lingbosong",speed:50,pitch:50,volume:50},{onStart:()=>{o(!0)},onEnd:()=>{o(!1)}})}catch(e){console.error("语音合成错误:",e),o(!1)}}catch(t){if(console.error("处理响应时出错:",t),t.response){var e,n;console.error("错误响应数据:",t.response.data),console.error("错误状态码:",t.response.status),u("处理失败: 服务器返回错误 (".concat(t.response.status,") - ").concat((null===(n=t.response.data)||void 0===n?void 0:null===(e=n.error)||void 0===e?void 0:e.message)||"未知错误"))}else t.request?(console.error("未收到响应的请求:",t.request),u("处理失败: 未收到API响应，可能是网络问题，请尝试演示模式")):u("处理失败: ".concat(t.message||"API请求失败"))}finally{c(!1)}}};return(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,n.jsx)("button",{onClick:m?()=>{c(!0);let e="",n=t.toLowerCase();if(n.includes("桥吊")||n.includes("维护")||n.includes("检查"))e=w[0];else if(n.includes("操作")||n.includes("技巧")||n.includes("效率"))e=w[1];else if(n.includes("调度")||n.includes("集装箱")||n.includes("安排"))e=w[2];else{let t=Math.floor(Math.random()*w.length);e=w[t]}setTimeout(()=>{s(e),o(!0),setTimeout(()=>{o(!1),c(!1)},8e3)},1500)}:p,disabled:i||!t.trim(),className:"flex-1 py-2 rounded-md font-medium ".concat(i||!t.trim()?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:i?"处理中...":"获取响应"}),(0,n.jsx)("button",{onClick:()=>x(!m),className:"px-3 py-2 rounded-md font-medium ".concat(m?"bg-green-600":"bg-gray-700"),title:m?"已启用演示模式":"启用演示模式",children:"演示"})]}),m&&(0,n.jsx)("div",{className:"mt-2 text-xs text-green-400 bg-green-900/30 p-2 rounded-md",children:"已启用演示模式，将使用预设响应，无需API调用"}),d&&(0,n.jsx)("p",{className:"text-red-500 mt-2 text-sm",children:d})]})};function w(){let[e,t]=(0,r.useState)(""),[s,a]=(0,r.useState)(""),[i,c]=(0,r.useState)(!1),[l,d]=(0,r.useState)(!1),u="default";return(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white",children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"虚拟许振超"}),(0,n.jsx)("meta",{name:"description",content:"青岛港首席桥吊专家许振超的智能助手"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,n.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-center mb-8",children:"千万职工共读经典主题活动之AI共读"}),(0,n.jsxs)("div",{className:"relative w-full h-[85vh] max-w-[98%] mx-auto hidden md:block",children:[(0,n.jsxs)("div",{className:"absolute top-[2%] left-[35%] transform -translate-x-1/2 w-auto h-[90%] flex flex-col items-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-2 text-center",children:"专家形象： 虚拟许振超"}),(0,n.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-3 h-full",children:(0,n.jsx)("div",{className:"border-2 border-gray-700 rounded-lg flex items-center justify-center h-full overflow-hidden",children:(0,n.jsx)(m,{character:u,isAnimating:l,response:s})})})]}),(0,n.jsxs)("div",{className:"absolute bottom-[3%] right-[8%] w-[32%] bg-gray-800 rounded-lg shadow-lg p-3",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"专家对话"}),(0,n.jsxs)("div",{className:"h-32 overflow-y-auto bg-gray-900 rounded-lg p-3 mb-2",children:[e&&(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("p",{className:"text-xs text-gray-400",children:"你："}),(0,n.jsx)("p",{className:"bg-gray-700 rounded-lg p-1 text-sm",children:e})]}),s&&(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("p",{className:"text-xs text-gray-400",children:"虚拟许振超："}),(0,n.jsx)("p",{className:"bg-blue-900 rounded-lg p-1 text-sm",children:s})]})]}),(0,n.jsxs)("div",{className:"mt-auto",children:[(0,n.jsx)(h,{onResult:t,isRecording:i,setIsRecording:c}),(0,n.jsx)(x,{userInput:e,onResponse:a,character:u,setIsAnimating:d})]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col space-y-4 md:hidden",children:[(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2 text-center",children:"专家形象： 虚拟许振超"}),(0,n.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-3",children:(0,n.jsx)("div",{className:"border-2 border-gray-700 rounded-lg flex items-center justify-center aspect-[9/16] overflow-hidden",children:(0,n.jsx)(m,{character:u,isAnimating:l,response:s})})})]}),(0,n.jsxs)("div",{className:"w-full bg-gray-800 rounded-lg shadow-lg p-3",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"专家对话"}),(0,n.jsxs)("div",{className:"h-36 overflow-y-auto bg-gray-900 rounded-lg p-3 mb-2",children:[e&&(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("p",{className:"text-xs text-gray-400",children:"你："}),(0,n.jsx)("p",{className:"bg-gray-700 rounded-lg p-1 text-sm",children:e})]}),s&&(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("p",{className:"text-xs text-gray-400",children:"虚拟许振超："}),(0,n.jsx)("p",{className:"bg-blue-900 rounded-lg p-1 text-sm",children:s})]})]}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)(h,{onResult:t,isRecording:i,setIsRecording:c}),(0,n.jsx)(x,{userInput:e,onResponse:a,character:u,setIsAnimating:d})]})]})]})]})]})}},2480:function(){}},function(e){e.O(0,[771,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);